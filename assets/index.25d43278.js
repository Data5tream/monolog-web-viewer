(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function y(){}function ge(t){return t()}function re(){return Object.create(null)}function z(t){t.forEach(ge)}function pe(t){return typeof t=="function"}function A(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function ye(t){return Object.keys(t).length===0}function we(t,...e){if(t==null)return y;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function R(t){let e;return we(t,n=>e=n)(),e}function se(t){return t==null?"":t}function E(t,e){t.appendChild(e)}function L(t,e,n){t.insertBefore(e,n||null)}function w(t){t.parentNode&&t.parentNode.removeChild(t)}function Y(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function b(t){return document.createElement(t)}function W(t){return document.createTextNode(t)}function N(){return W(" ")}function Le(){return W("")}function he(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function k(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function ke(t){return Array.from(t.childNodes)}function ve(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function oe(t,e,n){t.classList[n?"add":"remove"](e)}let te;function j(t){te=t}const q=[],ie=[],P=[],ce=[],Ee=Promise.resolve();let Z=!1;function xe(){Z||(Z=!0,Ee.then($e))}function ee(t){P.push(t)}const X=new Set;let H=0;function $e(){const t=te;do{for(;H<q.length;){const e=q[H];H++,j(e),Ce(e.$$)}for(j(null),q.length=0,H=0;ie.length;)ie.pop()();for(let e=0;e<P.length;e+=1){const n=P[e];X.has(n)||(X.add(n),n())}P.length=0}while(q.length);for(;ce.length;)ce.pop()();Z=!1,X.clear(),j(t)}function Ce(t){if(t.fragment!==null){t.update(),z(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ee)}}const V=new Set;let O;function G(){O={r:0,c:[],p:O}}function U(){O.r||z(O.c),O=O.p}function v(t,e){t&&t.i&&(V.delete(t),t.i(e))}function $(t,e,n,l){if(t&&t.o){if(V.has(t))return;V.add(t),O.c.push(()=>{V.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}function S(t){t&&t.c()}function x(t,e,n,l){const{fragment:r,after_update:s}=t.$$;r&&r.m(e,n),l||ee(()=>{const o=t.$$.on_mount.map(ge).filter(pe);t.$$.on_destroy?t.$$.on_destroy.push(...o):z(o),t.$$.on_mount=[]}),s.forEach(ee)}function C(t,e){const n=t.$$;n.fragment!==null&&(z(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Fe(t,e){t.$$.dirty[0]===-1&&(q.push(t),xe(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function D(t,e,n,l,r,s,o,c=[-1]){const u=te;j(t);const i=t.$$={fragment:null,ctx:[],props:s,update:y,not_equal:r,bound:re(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:re(),dirty:c,skip_bound:!1,root:e.target||u.$$.root};o&&o(i.root);let _=!1;if(i.ctx=n?n(t,e.props||{},(f,g,...a)=>{const p=a.length?a[0]:g;return i.ctx&&r(i.ctx[f],i.ctx[f]=p)&&(!i.skip_bound&&i.bound[f]&&i.bound[f](p),_&&Fe(t,f)),g}):[],i.update(),_=!0,z(i.before_update),i.fragment=l?l(i.ctx):!1,e.target){if(e.hydrate){const f=ke(e.target);i.fragment&&i.fragment.l(f),f.forEach(w)}else i.fragment&&i.fragment.c();e.intro&&v(t.$$.fragment),x(t,e.target,e.anchor,e.customElement),$e()}j(u)}class B{$destroy(){C(this,1),this.$destroy=y}$on(e,n){if(!pe(n))return y;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const r=l.indexOf(n);r!==-1&&l.splice(r,1)}}$set(e){this.$$set&&!ye(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const I=[];function K(t,e=y){let n;const l=new Set;function r(c){if(A(t,c)&&(t=c,n)){const u=!I.length;for(const i of l)i[1](),I.push(i,t);if(u){for(let i=0;i<I.length;i+=2)I[i][0](I[i+1]);I.length=0}}}function s(c){r(c(t))}function o(c,u=y){const i=[c,u];return l.add(i),l.size===1&&(n=e(r)||y),c(t),()=>{l.delete(i),l.size===0&&(n(),n=null)}}return{set:r,update:s,subscribe:o}}const ne=K([]),le=K([]),J=K([]),Q=K([]);function Se(t){let e;return{c(){e=b("span"),e.textContent="None",k(e,"class","text-muted")},m(n,l){L(n,e,l)},p:y,d(n){n&&w(e)}}}function Ne(t){let e;return{c(){e=W(t[1])},m(n,l){L(n,e,l)},p(n,l){l&2&&ve(e,n[1])},d(n){n&&w(e)}}}function Ae(t){let e,n;function l(o,c){return o[1]?Ne:Se}let r=l(t),s=r(t);return{c(){e=b("td"),s.c(),k(e,"class",n=se(t[0])+" svelte-19be1n9")},m(o,c){L(o,e,c),s.m(e,null)},p(o,[c]){r===(r=l(o))&&s?s.p(o,c):(s.d(1),s=r(o),s&&(s.c(),s.m(e,null))),c&1&&n!==(n=se(o[0])+" svelte-19be1n9")&&k(e,"class",n)},i:y,o:y,d(o){o&&w(e),s.d()}}}function Oe(t,e,n){let{classList:l}=e,{value:r}=e;return t.$$set=s=>{"classList"in s&&n(0,l=s.classList),"value"in s&&n(1,r=s.value)},[l,r]}class T extends B{constructor(e){super(),D(this,e,Oe,Ae,A,{classList:0,value:1})}}function De(t){let e,n,l,r,s,o,c,u,i,_,f;return n=new T({props:{classList:"timestamp",value:new Date(t[0].timestamp).toISOString()}}),r=new T({props:{classList:"level-"+t[0].level.toLowerCase(),value:t[0].level}}),o=new T({props:{classList:"component",value:t[0].component}}),u=new T({props:{classList:"message",value:t[1](t[0].message)}}),_=new T({props:{classList:"context",value:t[0].context}}),{c(){e=b("tr"),S(n.$$.fragment),l=N(),S(r.$$.fragment),s=N(),S(o.$$.fragment),c=N(),S(u.$$.fragment),i=N(),S(_.$$.fragment)},m(g,a){L(g,e,a),x(n,e,null),E(e,l),x(r,e,null),E(e,s),x(o,e,null),E(e,c),x(u,e,null),E(e,i),x(_,e,null),f=!0},p(g,[a]){const p={};a&1&&(p.value=new Date(g[0].timestamp).toISOString()),n.$set(p);const F={};a&1&&(F.classList="level-"+g[0].level.toLowerCase()),a&1&&(F.value=g[0].level),r.$set(F);const m={};a&1&&(m.value=g[0].component),o.$set(m);const h={};a&1&&(h.value=g[1](g[0].message)),u.$set(h);const d={};a&1&&(d.value=g[0].context),_.$set(d)},i(g){f||(v(n.$$.fragment,g),v(r.$$.fragment,g),v(o.$$.fragment,g),v(u.$$.fragment,g),v(_.$$.fragment,g),f=!0)},o(g){$(n.$$.fragment,g),$(r.$$.fragment,g),$(o.$$.fragment,g),$(u.$$.fragment,g),$(_.$$.fragment,g),f=!1},d(g){g&&w(e),C(n),C(r),C(o),C(u),C(_)}}}function Be(t,e,n){const l=s=>s.length>128?s.substring(0,128)+"...":s;let{logEntry:r}=e;return t.$$set=s=>{"logEntry"in s&&n(0,r=s.logEntry)},[r,l]}class Ie extends B{constructor(e){super(),D(this,e,Be,De,A,{logEntry:0})}}function fe(t,e,n){const l=t.slice();return l[1]=e[n],l}function Me(t){let e;return{c(){e=b("span"),e.textContent="No data found :(",k(e,"class","error svelte-10ckp0d")},m(n,l){L(n,e,l)},p:y,i:y,o:y,d(n){n&&w(e)}}}function Te(t){let e,n,l,r,s,o=t[0],c=[];for(let i=0;i<o.length;i+=1)c[i]=ue(fe(t,o,i));const u=i=>$(c[i],1,1,()=>{c[i]=null});return{c(){e=b("table"),n=b("thead"),n.innerHTML=`<tr><th>Timestamp</th> 
            <th>Level</th> 
            <th>Component</th> 
            <th>Message</th> 
            <th>Context</th></tr>`,l=N(),r=b("tbody");for(let i=0;i<c.length;i+=1)c[i].c();k(e,"class","svelte-10ckp0d")},m(i,_){L(i,e,_),E(e,n),E(e,l),E(e,r);for(let f=0;f<c.length;f+=1)c[f].m(r,null);s=!0},p(i,_){if(_&1){o=i[0];let f;for(f=0;f<o.length;f+=1){const g=fe(i,o,f);c[f]?(c[f].p(g,_),v(c[f],1)):(c[f]=ue(g),c[f].c(),v(c[f],1),c[f].m(r,null))}for(G(),f=o.length;f<c.length;f+=1)u(f);U()}},i(i){if(!s){for(let _=0;_<o.length;_+=1)v(c[_]);s=!0}},o(i){c=c.filter(Boolean);for(let _=0;_<c.length;_+=1)$(c[_]);s=!1},d(i){i&&w(e),Y(c,i)}}}function ue(t){let e,n;return e=new Ie({props:{logEntry:t[1]}}),{c(){S(e.$$.fragment)},m(l,r){x(e,l,r),n=!0},p(l,r){const s={};r&1&&(s.logEntry=l[1]),e.$set(s)},i(l){n||(v(e.$$.fragment,l),n=!0)},o(l){$(e.$$.fragment,l),n=!1},d(l){C(e,l)}}}function qe(t){let e,n,l,r;const s=[Te,Me],o=[];function c(u,i){return u[0].length?0:1}return e=c(t),n=o[e]=s[e](t),{c(){n.c(),l=Le()},m(u,i){o[e].m(u,i),L(u,l,i),r=!0},p(u,[i]){let _=e;e=c(u),e===_?o[e].p(u,i):(G(),$(o[_],1,1,()=>{o[_]=null}),U(),n=o[e],n?n.p(u,i):(n=o[e]=s[e](u),n.c()),v(n,1),n.m(l.parentNode,l))},i(u){r||(v(n),r=!0)},o(u){$(n),r=!1},d(u){o[e].d(u),u&&w(l)}}}function je(t,e,n){let{data:l}=e;return t.$$set=r=>{"data"in r&&n(0,l=r.data)},[l]}class Ge extends B{constructor(e){super(),D(this,e,je,qe,A,{data:0})}}const Ue=t=>{const e=/\[(\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d+\+\d{2}:\d{2})]\W(\w+)\.(\w+):\W(.*)\[(.*)]/gm,n=[],l=[],r=[];t.split(`
`).forEach(s=>{let o;for(;(o=e.exec(s))!==null;)o.index===e.lastIndex&&e.lastIndex++,n.push({timestamp:Date.parse(o[1]),component:o[2],level:o[3],message:o[4],context:o[5]}),l.push(o[2]),r.push(o[3])}),J.set([...new Set(l)].map(s=>({name:s,active:!0}))),Q.set([...new Set(r)].map(s=>({name:s,active:!0}))),ne.set(n),le.set(n)},ze=()=>{const t=r=>r.filter(s=>s.active).map(s=>s.name),e=t(R(J)),n=t(R(Q)),l=R(ne).filter(r=>e.includes(r.component)&&n.includes(r.level));le.set(l)},He=(t,e,n)=>{const l=r=>{let s=[];return r.forEach(o=>{o.name===e&&(o.active=n),s.push(o)}),s};t==="components"?J.update(l):t==="levels"&&Q.update(l)};function Pe(t){let e,n,l,r,s;return{c(){e=b("label"),e.textContent="Select monolog log file",n=N(),l=b("input"),k(e,"for","fileUpload"),k(l,"id","fileUpload"),k(l,"type","file"),k(l,"accept","text/plain,.log")},m(o,c){L(o,e,c),L(o,n,c),L(o,l,c),r||(s=he(l,"change",t[1]),r=!0)},p:y,i:y,o:y,d(o){o&&w(e),o&&w(n),o&&w(l),r=!1,s()}}}function Ve(t,e,n){var l=this&&this.__awaiter||function(c,u,i,_){function f(g){return g instanceof i?g:new i(function(a){a(g)})}return new(i||(i=Promise))(function(g,a){function p(h){try{m(_.next(h))}catch(d){a(d)}}function F(h){try{m(_.throw(h))}catch(d){a(d)}}function m(h){h.done?g(h.value):f(h.value).then(p,F)}m((_=_.apply(c,u||[])).next())})};let r;const s=c=>l(void 0,void 0,void 0,function*(){Ue(yield c.text())});function o(){r=this.files,n(0,r)}return t.$$.update=()=>{t.$$.dirty&1&&r&&s(r[0])},[r,o]}class We extends B{constructor(e){super(),D(this,e,Ve,Pe,A,{})}}function Ke(t){let e,n,l,r,s,o;return{c(){e=b("button"),n=b("span"),l=W(t[1]),k(e,"class",r="pill "+t[0]+" svelte-q072dn"),oe(e,"active",t[2])},m(c,u){L(c,e,u),E(e,n),E(n,l),s||(o=he(e,"click",t[3]),s=!0)},p(c,[u]){u&2&&ve(l,c[1]),u&1&&r!==(r="pill "+c[0]+" svelte-q072dn")&&k(e,"class",r),u&5&&oe(e,"active",c[2])},i:y,o:y,d(c){c&&w(e),s=!1,o()}}}function Je(t,e,n){let{filter:l}=e,{color:r="normal"}=e,{title:s=""}=e,{active:o=!1}=e;const c=()=>{He(l,s,!o),ze()};return t.$$set=u=>{"filter"in u&&n(4,l=u.filter),"color"in u&&n(0,r=u.color),"title"in u&&n(1,s=u.title),"active"in u&&n(2,o=u.active)},[r,s,o,c,l]}class be extends B{constructor(e){super(),D(this,e,Je,Ke,A,{filter:4,color:0,title:1,active:2})}}function ae(t,e,n){const l=t.slice();return l[2]=e[n],l}function de(t,e,n){const l=t.slice();return l[5]=e[n],l}function _e(t){let e,n;return e=new be({props:{filter:"components",title:t[5].name,active:t[5].active}}),{c(){S(e.$$.fragment)},m(l,r){x(e,l,r),n=!0},p(l,r){const s={};r&1&&(s.title=l[5].name),r&1&&(s.active=l[5].active),e.$set(s)},i(l){n||(v(e.$$.fragment,l),n=!0)},o(l){$(e.$$.fragment,l),n=!1},d(l){C(e,l)}}}function me(t){let e,n;return e=new be({props:{filter:"levels",title:t[2].name,active:t[2].active}}),{c(){S(e.$$.fragment)},m(l,r){x(e,l,r),n=!0},p(l,r){const s={};r&2&&(s.title=l[2].name),r&2&&(s.active=l[2].active),e.$set(s)},i(l){n||(v(e.$$.fragment,l),n=!0)},o(l){$(e.$$.fragment,l),n=!1},d(l){C(e,l)}}}function Qe(t){let e,n,l,r,s,o,c,u,i,_=t[0],f=[];for(let m=0;m<_.length;m+=1)f[m]=_e(de(t,_,m));const g=m=>$(f[m],1,1,()=>{f[m]=null});let a=t[1],p=[];for(let m=0;m<a.length;m+=1)p[m]=me(ae(t,a,m));const F=m=>$(p[m],1,1,()=>{p[m]=null});return{c(){e=b("div"),n=b("div"),l=b("label"),l.textContent="Components",r=N();for(let m=0;m<f.length;m+=1)f[m].c();s=N(),o=b("div"),c=b("label"),c.textContent="Levels",u=N();for(let m=0;m<p.length;m+=1)p[m].c();k(n,"class","components svelte-bd611g"),k(o,"class","levels svelte-bd611g"),k(e,"class","tag-container svelte-bd611g")},m(m,h){L(m,e,h),E(e,n),E(n,l),E(n,r);for(let d=0;d<f.length;d+=1)f[d].m(n,null);E(e,s),E(e,o),E(o,c),E(o,u);for(let d=0;d<p.length;d+=1)p[d].m(o,null);i=!0},p(m,[h]){if(h&1){_=m[0];let d;for(d=0;d<_.length;d+=1){const M=de(m,_,d);f[d]?(f[d].p(M,h),v(f[d],1)):(f[d]=_e(M),f[d].c(),v(f[d],1),f[d].m(n,null))}for(G(),d=_.length;d<f.length;d+=1)g(d);U()}if(h&2){a=m[1];let d;for(d=0;d<a.length;d+=1){const M=ae(m,a,d);p[d]?(p[d].p(M,h),v(p[d],1)):(p[d]=me(M),p[d].c(),v(p[d],1),p[d].m(o,null))}for(G(),d=a.length;d<p.length;d+=1)F(d);U()}},i(m){if(!i){for(let h=0;h<_.length;h+=1)v(f[h]);for(let h=0;h<a.length;h+=1)v(p[h]);i=!0}},o(m){f=f.filter(Boolean);for(let h=0;h<f.length;h+=1)$(f[h]);p=p.filter(Boolean);for(let h=0;h<p.length;h+=1)$(p[h]);i=!1},d(m){m&&w(e),Y(f,m),Y(p,m)}}}function Re(t,e,n){let l=[];J.subscribe(s=>n(0,l=s));let r=[];return Q.subscribe(s=>n(1,r=s)),[l,r]}class Xe extends B{constructor(e){super(),D(this,e,Re,Qe,A,{})}}function Ye(t){let e,n;return e=new We({}),{c(){S(e.$$.fragment)},m(l,r){x(e,l,r),n=!0},p:y,i(l){n||(v(e.$$.fragment,l),n=!0)},o(l){$(e.$$.fragment,l),n=!1},d(l){C(e,l)}}}function Ze(t){let e,n;return e=new Ge({props:{data:t[1]}}),{c(){S(e.$$.fragment)},m(l,r){x(e,l,r),n=!0},p(l,r){const s={};r&2&&(s.data=l[1]),e.$set(s)},i(l){n||(v(e.$$.fragment,l),n=!0)},o(l){$(e.$$.fragment,l),n=!1},d(l){C(e,l)}}}function et(t){let e,n,l,r,s,o,c,u,i;n=new Xe({});const _=[Ze,Ye],f=[];function g(a,p){return a[0]?0:1}return s=g(t),o=f[s]=_[s](t),{c(){e=b("header"),S(n.$$.fragment),l=N(),r=b("main"),o.c(),c=N(),u=b("footer"),u.innerHTML=`<span class="svelte-hvs2y9">\xA9 Simon Barth, 2022</span> 
    <a href="https://github.com/Data5tream/monolog-web-viewer" target="_blank" rel="nofollow" class="svelte-hvs2y9">Github</a> 
    <span class="svelte-hvs2y9">Licensed under GNU AGPLv3</span>`,k(e,"class","svelte-hvs2y9"),k(r,"class","svelte-hvs2y9"),k(u,"class","svelte-hvs2y9")},m(a,p){L(a,e,p),x(n,e,null),L(a,l,p),L(a,r,p),f[s].m(r,null),L(a,c,p),L(a,u,p),i=!0},p(a,[p]){let F=s;s=g(a),s===F?f[s].p(a,p):(G(),$(f[F],1,1,()=>{f[F]=null}),U(),o=f[s],o?o.p(a,p):(o=f[s]=_[s](a),o.c()),v(o,1),o.m(r,null))},i(a){i||(v(n.$$.fragment,a),v(o),i=!0)},o(a){$(n.$$.fragment,a),$(o),i=!1},d(a){a&&w(e),C(n),a&&w(l),a&&w(r),f[s].d(),a&&w(c),a&&w(u)}}}function tt(t,e,n){let l=!1,r=[];return le.subscribe(s=>{n(1,r=s)}),ne.subscribe(s=>{n(0,l=!!s.length)}),[l,r]}class nt extends B{constructor(e){super(),D(this,e,tt,et,A,{})}}new nt({target:document.getElementById("app")});
